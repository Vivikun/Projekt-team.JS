{"mappings":"IUkCM,E,S,E,C,E,O,G,E,U,C,E,O,C,C,C,I,E,W,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,E,O,c,C,E,O,C,W,C,I,I,E,I,A,G,E,E,W,C,E,a,C,C,GThCN,IAgBA,EAhBI,EAAU,IAAI,IAgBlB,EAfA,SAAkB,CAAO,CAAE,CAAQ,EACjC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAS,MAAM,CAAG,EAAG,GAAK,EAC5C,EAAQ,GAAG,CAAC,CAAQ,CAAC,EAAE,CAAE,CACvB,QAAS,EACT,KAAM,CAAQ,CAAC,EAAI,EAAE,AACvB,EAEJ,C,G,E,Q,S,C,C,C,ECVA,EAAA,OAAA,CAAiB,IAAA,IAAoB,+CAAA,YAAA,GAAA,EAAgD,QAAQ,E,G,E,Q,S,C,C,C,ECA7F,EAAA,OAAA,CAAiB,IAAA,IAAoB,+CAAA,YAAA,GAAA,EAAgD,QAAQ,E,G,E,Q,S,C,C,C,ECA7F,EAAA,OAAA,CAAiB,IAAA,IAAoB,8CAAA,YAAA,GAAA,EAA+C,QAAQ,E,G,E,Q,S,C,C,C,ECA5F,EAAA,OAAA,CAAiB,IAAA,IAAoB,8CAAA,YAAA,GAAA,EAA+C,QAAQ,E,G,E,Q,S,C,C,C,ECA5F,EAAA,OAAA,CAAiB,IAAA,IAAoB,4CAAA,YAAA,GAAA,EAA6C,QAAQ,E,G,E,Q,S,C,C,C,ECA1F,EAAA,OAAA,CAAiB,IAAA,IAAoB,4CAAA,YAAA,GAAA,EAA6C,QAAQ,E,GCA1F,AAAA,EAAA,SAAA,QAAA,CAA8C,IAAA,IAAoB,GAAA,YAAA,GAAA,EAAI,QAAQ,GAAG,KAAK,KAAK,CAAC,olB,E,S,E,S,E,S,I,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,SEQ5F,MAAM,EAAiB,SAAS,aAAa,CAAC,oBACxC,EAA0B,SAAS,aAAa,CAAC,sBAE9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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-af1e9ab5fe03d57d.js","node_modules/@parcel/runtime-js/lib/runtime-016e0399d7782fce.js","node_modules/@parcel/runtime-js/lib/runtime-f471724d70d0cb2c.js","node_modules/@parcel/runtime-js/lib/runtime-8a1a448b73e21c14.js","node_modules/@parcel/runtime-js/lib/runtime-5a804f229e7033e1.js","node_modules/@parcel/runtime-js/lib/runtime-5f6b10448ca79ff2.js","node_modules/@parcel/runtime-js/lib/runtime-76c1c933d54a0952.js","src/shopping.js","src/js/shoppingList.js","node_modules/@parcel/runtime-js/lib/runtime-56cb2f07f425f555.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequirec448\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequirec448\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"ifJdc\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", () => $d49cb2d7b03f6a77$export$6503ec6e8aabbaf, (v) => $d49cb2d7b03f6a77$export$6503ec6e8aabbaf = v);\nvar $d49cb2d7b03f6a77$export$6503ec6e8aabbaf;\nvar $d49cb2d7b03f6a77$export$f7ad0328861e2f03;\n\"use strict\";\nvar $d49cb2d7b03f6a77$var$mapping = new Map();\nfunction $d49cb2d7b03f6a77$var$register(baseUrl, manifest) {\n    for(var i = 0; i < manifest.length - 1; i += 2)$d49cb2d7b03f6a77$var$mapping.set(manifest[i], {\n        baseUrl: baseUrl,\n        path: manifest[i + 1]\n    });\n}\nfunction $d49cb2d7b03f6a77$var$resolve(id) {\n    var resolved = $d49cb2d7b03f6a77$var$mapping.get(id);\n    if (resolved == null) throw new Error(\"Could not resolve bundle with id \" + id);\n    return new URL(resolved.path, resolved.baseUrl).toString();\n}\n$d49cb2d7b03f6a77$export$6503ec6e8aabbaf = $d49cb2d7b03f6a77$var$register;\n$d49cb2d7b03f6a77$export$f7ad0328861e2f03 = $d49cb2d7b03f6a77$var$resolve;\n\n});\n\nparcelRegister(\"b5y5b\", function(module, exports) {\nmodule.exports = new URL(\"amazon-shop-1x.caf0b3cb.png\", import.meta.url).toString();\n\n});\n\nparcelRegister(\"3Bfnm\", function(module, exports) {\nmodule.exports = new URL(\"amazon-shop-2x.c246ebc6.png\", import.meta.url).toString();\n\n});\n\nparcelRegister(\"jcqIm\", function(module, exports) {\nmodule.exports = new URL(\"apple-shop-1x.1a3f8a6b.png\", import.meta.url).toString();\n\n});\n\nparcelRegister(\"9UbC2\", function(module, exports) {\nmodule.exports = new URL(\"apple-shop-2x.495409a0.png\", import.meta.url).toString();\n\n});\n\nparcelRegister(\"hFnGY\", function(module, exports) {\nmodule.exports = new URL(\"bookshop-1x.6e21e8db.png\", import.meta.url).toString();\n\n});\n\nparcelRegister(\"6SLhl\", function(module, exports) {\nmodule.exports = new URL(\"bookshop-2x.14e7190a.png\", import.meta.url).toString();\n\n});\n\nvar $a9b70b5d7415fd95$exports = {};\n\n(parcelRequire(\"ifJdc\")).register(new URL(\"\", import.meta.url).toString(), JSON.parse('[\"cSTZi\",\"shoppingListCard.633c69c1.js\",\"he8zy\",\"amazon-shop-1x.caf0b3cb.png\",\"9ukzY\",\"amazon-shop-2x.c246ebc6.png\",\"8hE8O\",\"apple-shop-1x.1a3f8a6b.png\",\"jtZF8\",\"apple-shop-2x.495409a0.png\",\"dKXC7\",\"bookshop-1x.6e21e8db.png\",\"iSWGx\",\"bookshop-2x.14e7190a.png\",\"GcmPC\",\"icons.9a6a557a.svg\",\"3ZcjA\",\"index.4fc928ea.css\",\"aeODi\",\"shoppingListCard.ad6380b0.js\",\"baecm\",\"shoppingListCard.runtime.9c32bd40.js\"]'));\n\n\nparcelRequire(\"cT4Yw\");\nparcelRequire(\"kM5jX\");\nparcelRequire(\"5zVhE\");\n\nvar $bvT6G = parcelRequire(\"bvT6G\");\n\nvar $b5y5b = parcelRequire(\"b5y5b\");\n\nvar $3Bfnm = parcelRequire(\"3Bfnm\");\n\nvar $jcqIm = parcelRequire(\"jcqIm\");\n\nvar $9UbC2 = parcelRequire(\"9UbC2\");\n\nvar $hFnGY = parcelRequire(\"hFnGY\");\n\nvar $6SLhl = parcelRequire(\"6SLhl\");\nconst $da0ae3fd02601188$var$shoppingListEl = document.querySelector(\".shopping__cards\");\nconst $da0ae3fd02601188$var$notificationContainerEl = document.querySelector(\".shopping__storage\");\n// const shoppingHeadingEl = document.querySelector('.shopping__heading');\nconst $da0ae3fd02601188$var$shoppingBtnTrash = document.querySelector(\".shopping__btn\");\nconst $da0ae3fd02601188$var$SHOP_LIST_KEY = \"selected-books\";\nvar $5784edd5ce62c73d$exports = {};\n$5784edd5ce62c73d$exports = new URL(\"icons.9a6a557a.svg\", import.meta.url).toString();\n\n\nconst $da0ae3fd02601188$var$logoTrashPath = new URL($5784edd5ce62c73d$exports);\nconst $da0ae3fd02601188$var$navlinks = document.querySelectorAll(\".navigation__link\");\nfunction $da0ae3fd02601188$var$setActiveState(elements) {\n    elements.forEach((item, index)=>{\n        const href = item.getAttribute(\"href\").match(/\\/[a-z-]*.html/g);\n        const windowHref = window.location.href.match(/Projekt-team.JS\\/$/g);\n        const windowHrefAfterRegistration = window.location.href.match(/Projekt-team.JS\\/#$/g);\n        const reg = window.location.href.match(/1234\\/#$/g);\n        if (window.location.href.includes(href) || window.location.href.includes(windowHref) && index === 0 || window.location.href.includes(windowHrefAfterRegistration) && index === 0 || window.location.href.includes(reg) && index === 0) item.classList.add(\"is-activ\");\n    });\n}\nconst $da0ae3fd02601188$var$loadFromLocalStorage = ()=>{\n    let bookList = (0, $bvT6G.default).load($da0ae3fd02601188$var$SHOP_LIST_KEY);\n    if (bookList?.length > 0) $da0ae3fd02601188$var$loadAndRenderBooks(bookList);\n};\n$da0ae3fd02601188$var$loadFromLocalStorage();\n$da0ae3fd02601188$var$setActiveState($da0ae3fd02601188$var$navlinks);\nfunction $da0ae3fd02601188$var$loadAndRenderBooks(data) {\n    let booksDetails = data;\n    const markup = booksDetails.map(({ _id: _id, book_image: book_image, author: author, book_image_width: book_image_width, book_image_height: book_image_height, title: title, list_name: list_name, description: description, buy_links: [amazon, apple, , , bookshop] })=>{\n        return `<li class=\"shopping__card\" data-id=\"${_id}\">\n      <div class=\"shopping__block\">\n        <div>\n          <div class=\"shopping__thumb\">\n            <img src=\"${book_image}\" alt=\"${list_name}\" class=\"shopping__book-img\" width=\"${book_image_width}\" height=\"${book_image_height}\"/>\n          </div>\n          </div>\n          <div class=\"shopping__wrap\">\n          <h2 class=\"shopping__title\">${title}</h2>\n          <p class=\"shopping__category\">${list_name}</p>\n          <p class=\"shopping__book-description\">${description}</p>\n          <p class=\"shopping__book-author\">${author}</p>\n          <ul class=\"shopping__shops\">\n            <li class=\"shopping__shop\">\n              <a href=\"${amazon.url}\" class=\"shopping__shop-link\" target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\" aria-label=\"Amazon-book site\">\n                <img srcset=\"${0, (/*@__PURE__*/$parcel$interopDefault($b5y5b))} 1x, ${0, (/*@__PURE__*/$parcel$interopDefault($3Bfnm))} 2x\" src=\"${0, (/*@__PURE__*/$parcel$interopDefault($b5y5b))}\" alt=\"${amazon.name}\" class=\"shopping__shop-img\" width=\"48\" height=\"15\"/>\n              </a>\n            </li>\n            <li class=\"shopping__shop\">\n              <a href=\"${apple.url}\" class=\"shopping__shop-link\" target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\" aria-label=\"Apple-book site\">\n                <img srcset=\"${0, (/*@__PURE__*/$parcel$interopDefault($jcqIm))} 1x, ${0, (/*@__PURE__*/$parcel$interopDefault($9UbC2))} 2x\" src=\"${0, (/*@__PURE__*/$parcel$interopDefault($jcqIm))}\" alt=\"${apple.name}\" class=\"shopping__shop-img\" width=\"28\" height=\"27\"/>\n              </a>\n            </li>\n            <li class=\"shopping__shop\">\n              <a href=\"${bookshop.url}\" class=\"shopping__shop-link\" target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\" aria-label=\"Book-shop site\">\n                <img srcset=\"${0, (/*@__PURE__*/$parcel$interopDefault($hFnGY))} 1x, ${0, (/*@__PURE__*/$parcel$interopDefault($6SLhl))} 2x\" src=\"${0, (/*@__PURE__*/$parcel$interopDefault($hFnGY))}\" alt=\"${bookshop.name}\" class=\"shopping__shop-img\" width=\"32\" height=\"30\"/>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <button type=\"button\" class=\"shopping__btn\" aria-label=\"Delete the book from shopping list\">\n        <svg class=\"shopping__btn-icon\" width=\"18\" height=\"18\">\n        <use href=\"${$da0ae3fd02601188$var$logoTrashPath}#icon-trash\"></use>\n        </svg>\n      </button>\n    </li>`;\n    }).join(\"\");\n    $da0ae3fd02601188$var$shoppingListEl.innerHTML = markup;\n    const shoppingBtnTrash = document.querySelector(\".shopping__btn\");\n    shoppingBtnTrash.addEventListener(\"click\", $da0ae3fd02601188$var$onTrashClick);\n    $da0ae3fd02601188$var$notificationContainerEl.style.display = \"none\";\n}\nfunction $da0ae3fd02601188$var$cutNameCategory(name) {\n    if (window.innerWidth <= 768) {\n        if (name.length > 20) return name.substring(0, 20) + \"...\";\n        return name;\n    }\n    return name;\n}\nfunction $da0ae3fd02601188$var$onTrashClick(e) {\n    const target = e.target.closest(\".shopping__btn\");\n    if (!target) return;\n    //*\n    const bookEl = target.closest(\".shopping__card\");\n    const seekedId = bookEl.dataset.id.trim();\n    //*\n    // Find the index of the book to be removed\n    //*\n    const storedBookIds = (0, $bvT6G.default).load(\"selected-books\");\n    const removedElIndexFromStorage = storedBookIds.findIndex((id)=>id === seekedId);\n    //* Remove the book from the array\n    storedBookIds.splice(removedElIndexFromStorage, 1);\n    //*\n    (0, $bvT6G.default).save($da0ae3fd02601188$var$SHOP_LIST_KEY, storedBookIds);\n    // Retrieve stored book IDs from local storage\n    // Check if the book ID was found in local storage\n    if (removedElIndexFromStorage !== -1) {\n        // Save the updated array to local storage\n        (0, $bvT6G.default).save(\"selected-books\", storedBookIds);\n        // Remove the book element from the DOM\n        console.log(bookEl);\n        bookEl.remove();\n        //---------------\n        //--------------------\n        if ($da0ae3fd02601188$var$SHOP_LIST_KEY.length === 0) {\n            $da0ae3fd02601188$var$shoppingListEl.style.display = \"none\";\n            $da0ae3fd02601188$var$shoppingListEl.classList.add(\"container_inactive\");\n        }\n    //----------------------\n    } else console.error(\"Book ID not found in local storage.\");\n}\n\n\nparcelRequire(\"avlWO\");\nparcelRequire(\"3G0rq\");\n // import './js/pop-up';\n // import './js/local-storage';\n\n\n//# sourceMappingURL=shoppingListCard.633c69c1.js.map\n","\"use strict\";\n\nvar mapping = new Map();\nfunction register(baseUrl, manifest) {\n  for (var i = 0; i < manifest.length - 1; i += 2) {\n    mapping.set(manifest[i], {\n      baseUrl: baseUrl,\n      path: manifest[i + 1]\n    });\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping.get(id);\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return new URL(resolved.path, resolved.baseUrl).toString();\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = new __parcel__URL__(\"amazon-shop-1x.caf0b3cb.png\").toString();","module.exports = new __parcel__URL__(\"amazon-shop-2x.c246ebc6.png\").toString();","module.exports = new __parcel__URL__(\"apple-shop-1x.1a3f8a6b.png\").toString();","module.exports = new __parcel__URL__(\"apple-shop-2x.495409a0.png\").toString();","module.exports = new __parcel__URL__(\"bookshop-1x.6e21e8db.png\").toString();","module.exports = new __parcel__URL__(\"bookshop-2x.14e7190a.png\").toString();","require('./helpers/bundle-manifest').register(new __parcel__URL__(\"\").toString(),JSON.parse(\"[\\\"cSTZi\\\",\\\"shoppingListCard.633c69c1.js\\\",\\\"he8zy\\\",\\\"amazon-shop-1x.caf0b3cb.png\\\",\\\"9ukzY\\\",\\\"amazon-shop-2x.c246ebc6.png\\\",\\\"8hE8O\\\",\\\"apple-shop-1x.1a3f8a6b.png\\\",\\\"jtZF8\\\",\\\"apple-shop-2x.495409a0.png\\\",\\\"dKXC7\\\",\\\"bookshop-1x.6e21e8db.png\\\",\\\"iSWGx\\\",\\\"bookshop-2x.14e7190a.png\\\",\\\"GcmPC\\\",\\\"icons.9a6a557a.svg\\\",\\\"3ZcjA\\\",\\\"index.4fc928ea.css\\\",\\\"aeODi\\\",\\\"shoppingListCard.ad6380b0.js\\\",\\\"baecm\\\",\\\"shoppingListCard.runtime.9c32bd40.js\\\"]\"));","import './sass/main.scss';\nimport './js/book-api.js';\n// import './js/home-categories.js';\nimport './js/mobile-menu.js';\nimport './js/UKRAINE-slider';\nimport './js/shoppingList.js';\n// import './js/home-books.js';\nimport './js/signup-modal.js';\nimport './js/darkmode.js';\n// import './js/pop-up';\n// import './js/local-storage';","import storageMethods from './storage-methods';\nimport amazonImage1 from '../images/shoppingList/amazon-shop-1x.png';\nimport amazonImage2 from '../images/shoppingList/amazon-shop-2x.png';\nimport appleImage1 from '../images/shoppingList/apple-shop-1x.png';\nimport appleImage2 from '../images/shoppingList/apple-shop-2x.png';\nimport bookshopImage1 from '../images/shoppingList/bookshop-1x.png';\nimport bookshopImage2 from '../images/shoppingList/bookshop-2x.png';\n\nconst shoppingListEl = document.querySelector('.shopping__cards');\nconst notificationContainerEl = document.querySelector('.shopping__storage');\n// const shoppingHeadingEl = document.querySelector('.shopping__heading');\nconst shoppingBtnTrash = document.querySelector('.shopping__btn');\nconst SHOP_LIST_KEY = 'selected-books';\n\nconst logoTrashPath = new URL('/src/images/icons.svg', import.meta.url);\nconst navlinks = document.querySelectorAll('.navigation__link');\n\nfunction setActiveState(elements) {\n  elements.forEach((item, index) => {\n    const href = item.getAttribute('href').match(/\\/[a-z-]*.html/g);\n    const windowHref = window.location.href.match(/Projekt-team.JS\\/$/g);\n    const windowHrefAfterRegistration = window.location.href.match(/Projekt-team.JS\\/#$/g);\n    const reg = window.location.href.match(/1234\\/#$/g);\n    if (\n      window.location.href.includes(href) ||\n      (window.location.href.includes(windowHref) && index === 0) ||\n      (window.location.href.includes(windowHrefAfterRegistration) && index === 0) ||\n      (window.location.href.includes(reg) && index === 0)\n    ) {\n      item.classList.add('is-activ');\n    }\n  });\n}\nconst loadFromLocalStorage = () => {\n  let bookList = storageMethods.load(SHOP_LIST_KEY);\n  if (bookList?.length > 0) {\n    loadAndRenderBooks(bookList);\n  }\n};\nloadFromLocalStorage();\n\nsetActiveState(navlinks);\n\nfunction loadAndRenderBooks(data) {\n  let booksDetails = data;\n  const markup = booksDetails\n    .map(\n      ({\n        _id,\n        book_image,\n        author,\n        book_image_width,\n        book_image_height,\n        title,\n        list_name,\n        description,\n        buy_links: [amazon, apple, , , bookshop],\n      }) => {\n        return `<li class=\"shopping__card\" data-id=\"${_id}\">\n      <div class=\"shopping__block\">\n        <div>\n          <div class=\"shopping__thumb\">\n            <img src=\"${book_image}\" alt=\"${list_name}\" class=\"shopping__book-img\" width=\"${book_image_width}\" height=\"${book_image_height}\"/>\n          </div>\n          </div>\n          <div class=\"shopping__wrap\">\n          <h2 class=\"shopping__title\">${title}</h2>\n          <p class=\"shopping__category\">${list_name}</p>\n          <p class=\"shopping__book-description\">${description}</p>\n          <p class=\"shopping__book-author\">${author}</p>\n          <ul class=\"shopping__shops\">\n            <li class=\"shopping__shop\">\n              <a href=\"${amazon.url}\" class=\"shopping__shop-link\" target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\" aria-label=\"Amazon-book site\">\n                <img srcset=\"${amazonImage1} 1x, ${amazonImage2} 2x\" src=\"${amazonImage1}\" alt=\"${amazon.name}\" class=\"shopping__shop-img\" width=\"48\" height=\"15\"/>\n              </a>\n            </li>\n            <li class=\"shopping__shop\">\n              <a href=\"${apple.url}\" class=\"shopping__shop-link\" target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\" aria-label=\"Apple-book site\">\n                <img srcset=\"${appleImage1} 1x, ${appleImage2} 2x\" src=\"${appleImage1}\" alt=\"${apple.name}\" class=\"shopping__shop-img\" width=\"28\" height=\"27\"/>\n              </a>\n            </li>\n            <li class=\"shopping__shop\">\n              <a href=\"${bookshop.url}\" class=\"shopping__shop-link\" target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\" aria-label=\"Book-shop site\">\n                <img srcset=\"${bookshopImage1} 1x, ${bookshopImage2} 2x\" src=\"${bookshopImage1}\" alt=\"${bookshop.name}\" class=\"shopping__shop-img\" width=\"32\" height=\"30\"/>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <button type=\"button\" class=\"shopping__btn\" aria-label=\"Delete the book from shopping list\">\n        <svg class=\"shopping__btn-icon\" width=\"18\" height=\"18\">\n        <use href=\"${logoTrashPath}#icon-trash\"></use>\n        </svg>\n      </button>\n    </li>`;\n      },\n    )\n    .join('');\n\n  shoppingListEl.innerHTML = markup;\n  const shoppingBtnTrash = document.querySelector('.shopping__btn');\n  shoppingBtnTrash.addEventListener('click', onTrashClick);\n  notificationContainerEl.style.display = 'none';\n}\n\nfunction cutNameCategory(name) {\n  if (window.innerWidth <= 768) {\n    if (name.length > 20) {\n      return name.substring(0, 20) + '...';\n    }\n    return name;\n  }\n  return name;\n}\n\nfunction onTrashClick(e) {\n  const target = e.target.closest('.shopping__btn');\n\n  if (!target) {\n    return;\n  }\n  //*\n  const bookEl = target.closest('.shopping__card');\n  const seekedId = bookEl.dataset.id.trim();\n  //*\n  // Find the index of the book to be removed\n  //*\n  const storedBookIds = storageMethods.load('selected-books');\n  const removedElIndexFromStorage = storedBookIds.findIndex(id => id === seekedId);\n\n  //* Remove the book from the array\n  storedBookIds.splice(removedElIndexFromStorage, 1);\n  //*\n  storageMethods.save(SHOP_LIST_KEY, storedBookIds);\n  // Retrieve stored book IDs from local storage\n\n  // Check if the book ID was found in local storage\n  if (removedElIndexFromStorage !== -1) {\n    // Save the updated array to local storage\n    storageMethods.save('selected-books', storedBookIds);\n\n    // Remove the book element from the DOM\n    console.log(bookEl);\n    bookEl.remove();\n    //---------------\n\n    //--------------------\n    if (SHOP_LIST_KEY.length === 0) {\n      shoppingListEl.style.display = 'none';\n      shoppingListEl.classList.add('container_inactive');\n    }\n\n    //----------------------\n  } else {\n    console.error('Book ID not found in local storage.');\n  }\n}\n","module.exports = new __parcel__URL__(\"icons.9a6a557a.svg\").toString();"],"names":["bookList","$parcel$interopDefault","a","__esModule","default","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","get","$d49cb2d7b03f6a77$export$6503ec6e8aabbaf","set","v","enumerable","configurable","$d49cb2d7b03f6a77$var$mapping","Map","baseUrl","manifest","i","length","path","URL","url","toString","JSON","parse","$bvT6G","$b5y5b","$3Bfnm","$jcqIm","$9UbC2","$hFnGY","$6SLhl","$da0ae3fd02601188$var$shoppingListEl","document","querySelector","$da0ae3fd02601188$var$notificationContainerEl","$da0ae3fd02601188$var$SHOP_LIST_KEY","$5784edd5ce62c73d$exports","$da0ae3fd02601188$var$logoTrashPath","$da0ae3fd02601188$var$navlinks","querySelectorAll","$da0ae3fd02601188$var$onTrashClick","e","target","closest","bookEl","seekedId","dataset","trim","storedBookIds","load","removedElIndexFromStorage","findIndex","splice","save","console","log","remove","style","display","classList","add","error","$da0ae3fd02601188$var$loadAndRenderBooks","data","markup","booksDetails","map","_id","book_image","author","book_image_width","book_image_height","title","list_name","description","buy_links","amazon","apple","bookshop","name","join","innerHTML","shoppingBtnTrash","addEventListener","$da0ae3fd02601188$var$setActiveState","elements","forEach","item","index","href","getAttribute","match","windowHref","window","location","windowHrefAfterRegistration","reg","includes"],"version":3,"file":"shoppingListCard.633c69c1.js.map"}